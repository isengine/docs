# Таблицы

Драйвер таблицы также встроен во фреймворк.

В этом случае, база данных должна храниться в виде таблицы в формате 'csv'.

> В дальнейшем планируется ввести возможность разделить родителей по разным файлам таблиц, но сейчас этого нет. Подобное частично реализовано в модуле 'Content'.

Каждая строка представляет собой одну запись из раздела базы данных.

По-умолчанию таблица должна быть закодирована в 'utf-8'. Если же она закодирована другой кодировкой, ее нужно указать через настройку 'encoding'.

Также может понадобиться переназначить разделители. По-умолчанию, для 'delimiter' назначен символ ',', а для 'enclosure' - '"'.

Все разделы должны быть представлены в разных колонках. Колонки могут быть подписаны в настройке 'rowkeys' в виде массива, например:

	["name", "parents", ...]

Либо заданы в самой таблице. В этом случае, 'rowkeys' должен содержать номер строки.

Если настройка 'rowkeys' не задана явно, то в качестве ключей будет взята самая первая строка таблицы.

> Помните, что строки в таблице начинаются с нуля.

Через настроку 'rowskip' можно задать строки, которые нужно пропустить. Это могут быть служебные строки, содержащие не значащую информацию.

> Обратите внимание, что строка, указанная в 'rowkeys' также должна быть указана и в 'rowskip'. Иначе она будет распознана как запись.

Несколько строк указываются через двоеточие:

	"0:1:2"

Если нужно подписать колонку, содержащую данные, ключи должны указываться в имени колонки через двоеточие:

	data:title

Таким образом можно указать любую вложенность:

	data:first:second:third

Если параметры времени 'ctime' или 'mtime' не заданы для записи явно, то они будут прочитаны из параметров файла таблицы.

Например, такая запись:

	"name","parents","type","owner","data:title"
	"name","first:second","type1:type2","me","this is the title"

Будет распознана следующим образом:

	"id" : 0,
	"name" : "name",
	"type" : ["type1", "type2"],
	"parents" : ["first", "second"],
	"ctime" : ...,
	"mtime" : ...,
	"dtime" : ...,
	"owner" : ["me"],
	"data" : {
		"title" : "this is the title"
	}
