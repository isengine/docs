# Работа с датой и временем

Пространство имен:

    use is\Helpers\Datetimes;

## Datetimes::amount

    Datetimes::amount($item)

Функция вычисляет количество секунд по переданной строке.

**item**
Тип: **строка**
Строка в формате системных данных

Разбивает строку на массив попарно с ключами и значениями. Затем конвертирует строковые значения или ключи в секунды.

В результате отдает общее количество секунд.

Пример:

    $string = '0.5:hour';
    echo Datetimes::amount($string);

Результат:

    1800

Пример:

    $string = 'min:3:hour:2';
    echo Datetimes::amount($string);

Результат:

    7380

Про соответствие строковых значений количеству секунд смотрите раздел констант ядра.

## Datetimes::format

    Datetimes::format($item)

Функция преобразует дату из формата системы в формат PHP.

**item**
Тип: **строка**
Значение даты в формате системы

Отдает соответствующий код даты в формате PHP.

Пример:

    $string = 'year';
    echo Datetimes::format($string);

Результат:

    Y

## Datetimes::convertFormat

    Datetimes::convertFormat($format)

Преобразование строки с системным форматом даты в строку с датой в формате PHP.

**format**
Тип: **строка**
Строка, содержащая системный формат даты

Отдает строку с кодом даты и времени в формате PHP.

Пример:

    $string = 'Now {year} year, {day}.{month}!';
    echo Datetimes::convertFormat($string);

Результат:

    \N\o\w Y \y\e\a\r, d.m!;

## Datetimes::create

    Datetimes::create($string = null, $format)

Создает объект Datetime PHP

**string**
Тип: **строка**
Строка, содержащая дату и/или время

**format**
Тип: **строка**
Строка, содержащая формат, в котором передана строка **string**
	
Функция производит конвертацию даты и времени из формата системы в объект Datetime PHP и возвращает его.

Пример вызова:

    $format = '{year}.{day}.{month}';
    $string = '2019.31.12';
    $result = Datetimes::create($string, $format);

## Datetimes::convert

    Datetimes::convert($string = null, $input, $output)

**string**
Тип: **строка**
Строка, содержащая дату и/или время

**input**
Тип: **строка**
Строка, содержащая формат, в котором передана строка **string**

**output**
Тип: **строка**
Строка, содержащая формат, в котором вы хотите получить переданную дату и/или время

Функция производит конвертацию даты и времени из одного формата системы в другой формат и возвращает полученную строку.

Пример:

    $input = '{year}.{day}.{month}';
    $output = 'Now {year} year, {day}.{month}!';
    $string = '2019.31.12';
    echo Datetimes::convert($string, $input, $output);

Результат:

    Now 2019 year, 31.12!

## Datetimes::compare

    Datetimes::compare($now, $min = null, $max = null, $format)

Функция проверяет заданную дату и время на соответствие временным рамкам.

**now**
Тип: **строка**
Строка, содержащая проверяемую дату и/или время

**min**
Тип: **строка**
Строка, содержащая минимальную дату и/или время

**max**
Тип: **строка**
Строка, содержащая максимальную дату и/или время

**format**
Тип: **строка**
Строка, содержащая формат, в котором переданы даты

Функция преобразует все переданные даты в абсолютное значение, согласно заданному формату.

Затем она сравнивает **now** с диапазоном дат **min** и **max**.

Если значение **now** было пропущено, то вычисляется текущее время и дата.

Функция отдает один из следующих результатов:

* -1 - если текущая дата меньше минимальной
* 0 - если текущая дата в допустимом диапазоне
* 1 - если текущая дата больше максимальной

Пример:

    $min = '2019.01.01';
    $max = '2019.31.12';
    $format = '{year}.{day}.{month}';
    echo Datetimes::compare('2018.06.06', $min, $max, $format);
    echo Datetimes::compare('2019.06.06', $min, $max, $format);
    echo Datetimes::compare('2020.06.06', $min, $max, $format);

Результат:

    -1
    0
    1

## Datetimes::time

    Datetimes::time()

Возвращает абсолютное текущее время в секундах.

Пример:

    echo Datetimes::time();

Результат:

    1559815200

## Datetimes::mtime

    Datetimes::mtime()

Возвращает абсолютное текущее время в миллисекундах.

Пример:

    echo Datetimes::mtime();

Результат:

    1559815200.100

## Datetimes::milliseconds

    Datetimes::milliseconds()

Возвращает миллисекунды текущего времени.

Пример:

    echo Datetimes::milliseconds();

Результат:

    100
