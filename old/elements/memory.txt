Расход памяти при проведении эмпирических тестов составляет ~ 1.5-3 мб на средненагруженной странице

У bitrix старой версии ~5-8 мб
У joomla 3-й версии на собственном пустом шаблоне ~8-12 мб и на стороннем шаблоне 12-17 мб
У wordpress ситуация непонятная, очень странная, т.к. с кэшем расход памяти составил ~40 мб,
однако страница запустилась мгновенно. Но здесь могла быть и ошибка, т.к. нет достоверности в
полученной цифре.

Однако, полученные данные не стоит воспринимать радостно. В любом случае, нужно провести больше
тестов в разных условиях.

Как получить замер памяти:
для php:
echo '<!-- memory is ' , round(memory_get_peak_usage() / 1024, 2) , ' kb -->';
для html:
<!-- memory is <?= round(memory_get_peak_usage() / 1024, 2); ?> kb -->



Как расходуется память.

Следующие данные тоже не являются точными сведениями, т.к. сильно зависят от различных
конфигураций сервера и версии CMS-ки.

Итак, расход памяти составил:

362.00 кб - в самом начале, еще до момента объявления констант
392.30 кб - до объявления функций
827.48 кб - после объявления функций

причем, на базовые функции суммарно тратится порядка 332 Kb оперативной памяти с учетом того,
что кастомных функций нет или они не подключались, работа с базами данных не была сформирована,
а в последствии будет и того больше

1085.81 кб - до запуска шаблона
2019.25 кб - после запуска шаблона
2020.00 кб - в самом конце, после проведения всех операций

Т.е. весь основной расход памяти нужно смотреть в шаблоне, в частности в модулях, в библиотеках

1541.03 кб - осталось в памяти на самом деле
1165.14 кб - если почистить самые "тяжелые" $template, $lang, $morph, $dictionary
1150.71 кб - если почистить вообще все переменные, что не имеет смысла

оставшаяся память занята объявленными функциями, классами и прочим. в перспективе увеличение
потребления памяти будет небольшим, т.к. множества функций и классов не будет, но следить
за этим нужно будет периодически и заниматься оптимизацией, в том числе чисткой переменных
внутри функции, а также объявлением анонимных функций с последующей чисткой, что может быть
актуально в модулях

погрешность в измерениях есть, и она скорее всего связана с расходованием памяти на измерение
