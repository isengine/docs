# Манифест

Файл манифеста обязательный для модуля. Пока что это единственное условие.

На данный момент предусмотрено указывать в нем название модуля, разработчика, версию. Но обработка и вывод этих данных не реализован.

В дальнейшем манифест будет уточнен и появится ряд дополнительных требований и возможностей, которые будут облегчать работу с модулями.

Например, уже сейчас можно указывать зависимости модуля от библиотек. И если данная библиотека в системе не установлена, модуль не будет загружен, а ошибка запишется в лог.

# Структура папок

В папке модуля могут находится только два файла:

init.php - скрипт инициализации
manifest.ini - манифест

Поддерживаются следующие папки:

	'data'
	обязательная папка, содержащая один или несколько файлов настроек
	по-умолчанию читается файл 'default.ini', однако модуль может содержать несколько предустановок
	
	'elements'
	папка со стандартными элементами шаблона
	часто может возникнуть ситуация, когда вы хотите использовать свой шаблон, но модуль достаточно сложен
	тогда вы можете использовать готовые блоки шаблона - элементы
	данная папка имеет путь доступа, прописанный в объекте модуля: $module -> elements

	'process'
	папка вспомогательных файлов модуля
	если модуль большой и его инициализация имеет достаточно крупный код, последний может быть разбит на составляющие файлы
	эти файлы группируются в данной папке, а путь к ним также прописан в объекте модуля: $module -> process

	'processor'
	папка процессора модуля, да, название предыдущей получилось похожим, но пока оставили так
	здесь хранятся процессы, которые инициируются через модуль
	все процессы работают точно по тому же принципу, что и системные процессы ядра, и кастомные процессы
	также каждый процесс должен быть зарегистрирован в базе данных

	'templates'
	папка шаблонов вывода
	как и в случае с настройками, здесь могут находиться несколько типовых шаблонов для различных ситуаций

# Настройки

Настройки модуля указываются в файле ini в формате json и на данный момент нет никаких ограничений на его использование.

Однако с развитием системных модулей появились общие рекомендации к содержанию.

Существуют общие настройки для модуля, которые выносятся в начало файла.

Затем следуют настройки, объединенные в группы. При этом следует различать группы для общих настроек и группы для настроек отдельных элементов модуля.

! Раньше было так: существовали группы elements и classes, которые управляли элементами и классами шаблона модуля.

Группы элементов могут включать следующие обязательные настройки:

	"enable" : true/false
	включает/выключает отображение и работу данной группы
	
	"elements" : { ... }
	список управления элементами группы
	
	"classes" : { ... }
	список классов, назначаемых каждому элементу группы
	
	"labels" : { ... }
	список заголовков, назначаемых установленным элементам группы
	
	"options" : { ... }
	список настроек, которые без изменений будут вставлены в скрипт инициализации
	т.к. модули часто используют js-библиотеки, которые также обновляются, данные опции позволят более гибко их настраивать
	
	остальные настройки идут простым перечислением

Также, если в модуле не предусмотрены группы элементов, данные настройки могут идти в общем порядке, как и было раньше.

Если в модуле используются дополнительные группы, то данные настройки могут идти в общем порядке для всего модуля и вложенными в группы для управления этими группами.
